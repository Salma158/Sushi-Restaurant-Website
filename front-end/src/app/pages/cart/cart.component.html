<div class="container">
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="16px">
        <div fxFlex="75" fxFlex.lt-md="100">
            <mat-card class="shadow-0">
                <mat-card-content class="m-4">
                    <h4 class="mat-title mb-4">Your shopping cart</h4>
                    @for (cartItem of cartItems; track $index)
                    {
                    <div fxLayout="row" fxLayoutGap="16px" class="mb-4">
                        <div fxFlex="50">
                            <div fxLayout="row" fxLayoutGap="16px">
                                <img [src]="cartItem.menuItem.imageUrl" class="border rounded"
                                    style="width: 96px; height: 96px;">
                                <div>
                                    <p>{{ cartItem.menuItem.name}}</p>
                                    <p class="text-muted">{{ cartItem.menuItem.description}}</p>
                                </div>
                            </div>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center center" fxFlex="25">
                            <button mat-button (click)="dec(cartItem, cartItem.quantity)">
                                <mat-icon>remove</mat-icon>
                            </button>
                            <span>{{ cartItem.quantity }}</span>
                            <button mat-button (click)="inc(cartItem)">
                                <mat-icon>add</mat-icon>
                            </button>
                        </div>

                        <div fxFlex="10" fxLayoutAlign="center center" fxLayout="column">
                            <span class="h6">${{ cartItem.menuItem.price * cartItem.quantity}} </span> <br>
                            <small class="text-muted text-nowrap"> ${{ cartItem.menuItem.price}} / per item </small>
                        </div>
                        <div fxFlex="25" fxLayout="row" fxLayoutAlign="center center" class="mt-2">
                            <button mat-raised-button color="warn" class="border"
                                (click)="remove(cartItem, 0)">Remove</button>
                        </div>
                    </div>
                    }
                    <div>
                        <p><mat-icon class="text-muted">local_shipping</mat-icon> Free Delivery within 1-2 weeks</p>
                        <p class="text-muted">
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
                            ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                            laboris nisi ut
                            aliquip
                        </p>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <div fxFlex="25" fxFlex.lt-md="100">
            <mat-card class="mb-3 shadow-0 border">
                <mat-card-content>
                    <form>
                        <mat-form-field class="example-full-width">
                            <mat-label>Have coupon?</mat-label>
                            <input matInput placeholder="Coupon code">
                            <button mat-button matSuffix>Apply</button>
                        </mat-form-field>
                    </form>
                </mat-card-content>
            </mat-card>
            <mat-card class="shadow-0 border">
                <mat-card-content>
                    <div fxLayout="column" fxLayoutGap="8px">
                        <div fxLayout="row" fxLayoutAlign="space-between">
                            <p>Total price:</p>
                            <p>${{totalPrice}}</p>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="space-between">
                            <p>Discount:</p>
                            <p class="text-success">-$0.00</p>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="space-between">
                            <p>TAX:</p>
                            <p>$14.00</p>
                        </div>
                        <mat-divider></mat-divider>
                        <div fxLayout="row" fxLayoutAlign="space-between">
                            <p>Total price:</p>
                            <p class="fw-bold">{{totalPrice + 14}}</p>
                        </div>
                        <div>
                            <p>Payment: Cash on Delivery</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <button mat-raised-button class="w-100 mb-2 place" routerLink="/shipping-address">Place Order</button>
                        <button mat-button class="w-100" routerLink="/menu">Back to Menu</button>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>